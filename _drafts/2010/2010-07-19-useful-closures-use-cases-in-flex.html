---
layout: post
title: Useful Closures use-cases in Flex
date: '2010-07-19T14:15:00.001-04:00'
author: Alberto
tags:
- Closure
- Flex
modified_time: '2010-07-19T14:16:06.876-04:00'
blogger_id: tag:blogger.com,1999:blog-4831432806087932521.post-3436422318769647643
blogger_orig_url: https://alberto-flores.blogspot.com/2010/07/useful-closures-use-cases-in-flex.html
---

As flex is based on Actionscripts 3, it is possible to leverage some of the features of an ECMA-based language not readily available in strongly-typed languages. &nbsp;Most Java developers will probably ignore the ability to use powerful features such as closures when the use-case simply makes sense. Consider the following:<br /><br /><a name='more'></a><br /><b>Function Handlers</b><br />In most cases where a function handler is needed, this tip may be very useful, particularly when you don't want to maintain "any" state within the object you create. For example consider the case of an <span class="Apple-style-span" style="font-size: small;"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">HTTPService </span></span>call.<br /><pre class="brush: as3">var svc:HTTPService = new HTTPService();<br />  svc.url = "http://yourdomain/rest"; <br />  svc.addEventListener(ResultEvent.RESULT, <br />                       successHandler);<br /><br /></pre>In this plain vanilla example, you need to have a <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="font-size: small;">successHandler</span></span> method with the following signature:<br /><pre class="brush: as3">public function successHandler(event:Result):void {<br />    // your implementation here<br />  }<br /></pre>What if you needed to add a handler with additional parameters. Then you can leverage the dynamic nature of actionscript and write a closure like:<br /><pre class="brush: as3">svc.addEventListener(ResultEvent.RESULT, <br />                       function (event:ResultEvent):void {<br />       handleResult(event, foo);<br />  });<br /></pre>and your new method to handle the result event will be:<br /><pre class="brush: as3">public function handleResult(event:Result, <br />                               foo:Object):void {<br />    // your implementation here<br />  }<br /></pre><br /><b>ResourceManager use in ActionScript</b><br />Most tutorials I read were about the ability to do localization in Flex using the <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="font-size: small;">ResourceManager.getString()</span></span> operation. In the case of binding to changes in the locale (as in the case of English to Spanish change), the recommended way to change is the following:<br /><br /><pre class="brush: xml"><mx:label text="{resourceManager.getString('mybundle',<br />                                    'property')}"><br /></mx:label></pre><br />This way, the app if completely localized. Notice that binding to the value of the returning string is fulfilled by the use of the curly bracket notation. &nbsp;I found few discussion of what happens when the Label is created programatically (in actionscript). BindingUtils is a nice component from the Flex API that is aimed to solve the problem as you write a closure for the chain parameter (destination to be bound to). Here is an example:<br /><br /><pre class="brush: as3">BindingUtils.bindProperty(this, <br />     "mylocalProperty", <br />     ResourceManager.getInstance(),<br />     {  name:"getString",<br />        getter: function (rm:IResourceManager):String {<br />             return rm.getString('mybundle', 'property');<br />             }<br />     });<br /></pre>According to the API, the 3rd parameter can be an object of the form {name:"property", getter:"function(host)..." which means that the getter can now be a closure of your choice.<br /><br />Hope this helps!