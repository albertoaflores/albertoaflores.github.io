---
layout: post
title: 'Spring Roo: Persistence Setup'
date: '2010-04-28T00:16:00.001-04:00'
author: Alberto
tags:
- Git
- Spring-Roo
- Spring
modified_time: '2010-04-28T00:18:47.484-04:00'
blogger_id: tag:blogger.com,1999:blog-4831432806087932521.post-6055502756015867875
blogger_orig_url: https://alberto-flores.blogspot.com/2010/04/spring-roo-persistence-setup.html
---

I've found Spring Roo to be a great way to learn how to setup configuration properly. &nbsp;As I continue to spend time in configuring my home project, I continue to be amazed at the powerful features that <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Roo</span> brings to the table. I had written a small application for tracking family chores. I spent about 25 minutes drawing the entities in a napkin, then spent 10 minutes writing a <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Roo</span> script (file with extension "<i>roo</i>"). Then, I opened a <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Roo</span> shell and run "<i>script myscript.roo</i>". This created my project, including all the scaffolding for my entities. &nbsp;I had my project running in minutes. After a while, I detected a problem with my entities relationship and wanted to see the persisted data. Of course, I had the the "IN MEMORY" choice, which brought all sort of problems when trying to see the data within. <br /><div><a name='more'></a></div><div><br /></div><div>If you have used&nbsp;<span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Roo</span> for a few minutes only (as it tends to encourage you, to due to its simplicity), you have probably used the <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">HYPERSONIC_IN_MEMORY</span> database configuration. This is good for a first prototype, however once you start adding data, you want to start using <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">HYPERSONIC_PERSISTENT</span> or simply another available database as described with the <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">--database</span> parameters. &nbsp;Roo makes this change a very pleasant experience. I chose <i>MYSQL</i>&nbsp;(since it was already installed). What a pleasant surprised that all I had to do was to write the following:</div><div><br /></div><div><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="font-size: small;">persistence setup --provider HIBERNATE --database MYSQL --userName <myuser> --password <mypassword> --databaseName <myproject></myproject></mypassword></myuser></span></span></div><div><br /></div><div>At this point, all appropriate files were updated. Since I was using <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">git</span> for version control, I was able to see the files updated. &nbsp;Not only was the <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">pom.xml</span> updated, but also the database.properties touched with the new configuration for the jdbc connection. I also noticed that the <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">persistence.xml</span> file was changed from "<i>update</i>" to "<i>create</i>" (I have to change this back to "<i>update</i>" if I want to continue seeing my data after reloads). This was nice as it makes sense to create the schema when it doesn't exist. I opened <a href="http://www.dbvis.com/">DbVisualizer</a>&nbsp;and was happily browsing my newly created tables without problems.&nbsp;</div><div><br /></div><div>In a few words: <i>Bravo Roo!</i></div><div><br /></div>