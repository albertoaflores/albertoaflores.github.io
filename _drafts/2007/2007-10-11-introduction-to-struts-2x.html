---
layout: post
title: Introduction to Struts 2.x
date: '2007-10-11T22:35:00.002-04:00'
author: Alberto
tags:
- Struts2
- Struts1
modified_time: '2008-03-25T12:02:47.198-04:00'
blogger_id: tag:blogger.com,1999:blog-4831432806087932521.post-3368558978734715147
blogger_orig_url: https://alberto-flores.blogspot.com/2007/10/introduction-to-struts-2x.html
---

<div class="snap_preview"> <p align="justify"><span style="font-family: arial;">I finally had the chance to  work on a project using Struts 2.x. As I wrote code my code from scratch, I had  to admit that my background from Struts 1.x worked against me in some cases  where in others it helped understand basic concepts. All in all, I was very  pleased with my experience with Struts 2.x. Granted, documentation is still  under progress, however I found the email list to be a great tool to be informed  and to receive answers to my specific questions. Although I don’t think I can  possibly write about every feature I used in Struts 2.x, I can certainly write  an introduction for those who are either new to MVC or trying to move from  Struts 1.x to Struts 2.x</span><span id="more-8"></span><strong></strong></p> <p><strong><span style="font-family: arial;">Reasons to  Migrate</span></strong></p> <p align="justify"><span style="font-family: arial;">First I need to emphasize that  unless you strictly have a good reason (and budget) to change your current MVC  architecture, then I would recommend to switch to it. The migration is not as  trivial and depending on what kind of code in your presentation view (JSP,  Velocity, Freemarker, JSTL, etc) your migration may or may not be that  transparent. One thing is for sure, Struts 2.x migration is not meant to be a  “<em>drop-in</em>” replacement, so expect several gotchas as you move along.  Also, note that regardless of your background, Struts 2.x can also be an  appropriate MVC choice for a new application (depending on your needs, of  course). If your moving from Struts 1.x, know that both can coexist during your  migration, so you don’t need to break your existing code, however the process  can become very confusing and unless absolutely necessary would I recommend  it.</span></p> <p align="justify"><span style="font-family: arial;">No Struts 1.x is required to  start, in my opinion, however decent understanding of MVC (as with most  frameworks) is always a plus. You want to also understand EL expressions (and  now UEL as well). Understanding of additional concepts such as JEE Filters,  Dependency Injection, Servlet Specification are going to help to get you going  really fast, however note that if you have done any JSP work before, you’ll  learn that with the Value Stack (Struts 2.x), now you have to account for a new  “scope”. It’s not hard to understand or use, however one must understand where  the values are coming from.</span><strong><span style="font-family: arial;">  </span></strong></p> <p><strong><span style="font-family: arial;">Using Struts 2.x</span></strong></p> <p align="justify"><span style="font-family: arial;">At a minimum, you are going to  need the following jar files within your lib directory. These come as part of  the struts2 distribution:</span></p> <ol><li><span style="font-family: arial;">struts-core-xxx.jar</span>  </li><li><span style="font-family: arial;">xwork-xxx.jar</span>  </li><li><span style="font-family: arial;">ognl-xxx.jar</span>  </li><li><span style="font-family: arial;">freemarker-xxx.jar</span> </li></ol> <p align="justify"><span style="font-family: arial;">Of course there are other  libraries needed. These are dependencies to the struts 2 framework (e.g.  Collections, BeanUtils, Digester, etc). Although these are not part of the  Struts2 project, these are reusable components that are part of the Jakarta  Commons project. If you are not familiar with it, I highly recommend spending  time on them. All required jar files come as part of the distribution. Of course  if you are using maven, you don’t need to worry about any of these (maven places  all needed dependencies within the lib directory).</span></p> <p align="justify"><span style="font-family: arial;">Now you need to setup the  <code>org.apache.struts2.dispatcher.FilterDispatcher</code> filter in web.xml.  This filter should go primarily mapped to all “/*” (web.xml filter mapping). Now  to your struts.xml file. This file <strong>needs</strong> to be in your  classpath. Even if you try to put it somewhere else using a  <code>context-param</code> in web.xml, other things will break. To be on the  safe side, just put it in your WEB-INF/classes directory. As for “struts.xml”,  I’m going to let you read some more on it in the official documentation since  it’s pretty self explanatory, however a good thing to know is that the concept  of “package” inheritance is widely used (similar to the one used in the tiles  framework). This hierarchy allows you to have pre-configured elements in your  configuration (e.g. validation, interceptors, etc) that are ready for you to use  (thus the convention over configuration). You can change, modify, reuse any  file. A good practice to learn is to checkout the source code and see how files  are read. Warning, the source code uses maven, so unless you are familiar with  how maven uses resources, this may be a bit unusual. Looking at the source code  has helped me tremendously in picking up Struts 2 fast.</span></p> <p align="justify"><span style="font-family: arial;">If you come from a Struts 1.x  background, you may want to be aware that type conversion is done for you  automatically. So there is no need to play around with custom converters  (registered in BeanUtils, or custom processing to process conversions), however  this conversion may/may not affect the way your validation occurs. This means  that errors detected in the conversion process are managed as “fieldErrors”  which in turn can be displayed using the appropriate tag. This may/may not be  the desired behavior, but it a much better approach to Struts 1.x where strong  typing properties in Form objects didn’t work well with certain validator types.  </span></p> <p align="justify"><span style="font-family: arial;">I hope to write very soon a  lot more about specifics features within Struts2 as I find them, specially about  the migration process which I’m sure it would be a lot more interesting. In the  mean time, checkout Struts 2 and start playing with it. According to the goals  of the project, you are supposed to be able to write a web application a lot  faster (which I tested to be true) as well as to make it coexist with a Struts 1  application (also tested to be true). Have fun!</span></p></div>