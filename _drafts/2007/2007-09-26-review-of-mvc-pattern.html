---
layout: post
title: A Review of the MVC pattern
date: '2007-09-26T08:55:00.004-04:00'
author: Alberto
tags:
- MVC
modified_time: '2008-09-24T12:00:11.481-04:00'
thumbnail: http://bp1.blogger.com/_q1JiMjLM_1c/Rx5XYaJo9WI/AAAAAAAAAIE/5Bg6x5Rj-4g/s72-c/mvc.bmp
blogger_id: tag:blogger.com,1999:blog-4831432806087932521.post-5189620233962091103
blogger_orig_url: https://alberto-flores.blogspot.com/2007/09/review-of-mvc-pattern.html
---

<span style="font-family:arial;">Tight coupling among software components is one of the common problems in large enterprise applications. This is due to the large amount of data and the way in which this data is represented to users of the application. In practice, it's very easy to fall into the problem of writing unorganized code that, although it delivers a product, it does not maintain any known convention or standard. This only contributes to the problem of extending application functionality (scalability) which is almost certain to happen. Many design patterns are used in the industry to solve different business problems. Among these, the Model-View-Controller (MVC) pattern is one that if often misquoted and misused. In using the Struts Framework for building web-based applications, it is crucial that every developer understand this pattern.</span><br /><br /><div style="TEXT-ALIGN: justify"><span style="font-family:arial;">In the MVC patterns, a clear distinction is made between three different components. These are the Controller, the View and the Model. Each of this components help segregate and centralize certain functionality of our code away from each other (loose coupling), thus scalability and re-usability is feasible. The following figure provides a small representation of how this components are meant to interact:<br /></span><br /><div style="TEXT-ALIGN: center"><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://bp1.blogger.com/_q1JiMjLM_1c/Rx5XYaJo9WI/AAAAAAAAAIE/5Bg6x5Rj-4g/s1600-h/mvc.bmp"><img id="BLOGGER_PHOTO_ID_5124629502842434914" style="DISPLAY: block; MARGIN: 0px auto 10px; CURSOR: pointer; TEXT-ALIGN: center" alt="" src="http://bp1.blogger.com/_q1JiMjLM_1c/Rx5XYaJo9WI/AAAAAAAAAIE/5Bg6x5Rj-4g/s320/mvc.bmp" border="0" /></a><span style="font-family:arial;font-size:78%;"><span style="FONT-STYLE: italic">Figure 1</span> - Diagram of the Model-View-Controller Pattern<br /><br /></span></div></div><div style="TEXT-ALIGN: justify"><span style="font-family:arial;">In this pattern, the <span style="FONT-WEIGHT: bold; FONT-STYLE: italic">Model</span> component is a representation of some business data. This is also known as "<span style="FONT-STYLE: italic">domain model</span>" and is specific to a business. It can also serve as a representation of a "<span style="FONT-STYLE: italic">real-world</span>" process that the application is identifying or hold the state of a business entity. The <span style="FONT-WEIGHT: bold"><span style="FONT-STYLE: italic">View</span></span> component is a specific display of the model component in the user interface (UI). This is also known as the "<span style="FONT-STYLE: italic">presentation layer</span>" of the application. Thus, if the <span style="FONT-STYLE: italic">model</span> component is a <code>BankAccount</code> object, the <span style="FONT-STYLE: italic">view</span> component may be an HTML page containing account balance and transactions, or a frame of UI widgets representing the account holder personal information. Note that for both of this examples, the <span style="FONT-STYLE: italic">model</span> knows nothing about the <span style="FONT-STYLE: italic">view</span>, however the <span style="FONT-STYLE: italic">view</span> needs to know some about the <span style="FONT-STYLE: italic">model</span> component in order to display it. This direction in dependency is an important concept in this paradigm which encourages loose coupling among components: Developers programming in the <span style="FONT-STYLE: italic">model </span>component do not depend on the presentation layer.<br /><br />Changes to the <span style="FONT-STYLE: italic">model</span> component (information holding business data) are handled through the <span style="FONT-WEIGHT: bold"><span style="FONT-STYLE: italic">Controller</span></span> of the application. This means that if the <span style="FONT-STYLE: italic">view</span> component has a function (e.g a button, or a drop-down) that needs to be triggered in order to execute an update on the <span style="FONT-STYLE: italic">model </span>component, the <span style="FONT-STYLE: italic">view</span> communicates this event to the <span style="FONT-STYLE: italic">controller</span> component who executes this change and updates the <span style="FONT-STYLE: italic">model</span> component. This level of redirection ensures the controller to handle the proper action per view according to business needs. For example, a bank account number may need to be "read-only" to customers but to staff members, this may be an editable field. In this case, it is up to the controller to decide whether the action of updating the account number should trigger an update operation on the <span style="FONT-STYLE: italic">model</span> component and is up to the <span style="FONT-STYLE: italic">view</span> component to determine if this functionality is even displayed to the user.<br /></span><br /><span style="font-family:arial;">In the context of the Struts Framework, the MVC pattern can be represented using the following diagram. Note that the three components of this pattern appear in the same order as in Figure 1: </span><br /></div><br /><div align="center"><span style="font-family:arial;"><span style="font-size:78%;"><img id="BLOGGER_PHOTO_ID_5249617193508015682" style="DISPLAY: block; MARGIN: 0px auto 10px; CURSOR: hand; TEXT-ALIGN: center" alt="" src="http://3.bp.blogspot.com/_q1JiMjLM_1c/SNpjBhnUDkI/AAAAAAAAAis/0R_OgJIQYuE/s320/mvc-struts.bmp" border="0" />Figure 2 - Struts implementation of the MVC pattern.</span></span><br /><span style="font-family:arial;"><br /></span><br /></div><div style="TEXT-ALIGN: justify"><span style="font-family:arial;">Struts is focused on web-based Enterprise Applications and is heavily based on Servlet Technology. At the core of the <span style="FONT-STYLE: italic">controller</span> component is the <code>ActionServlet</code> object. In general, this servlet forwards control to <code>Action</code> objects (to perform CRUD operations on the <span style="FONT-STYLE: italic">model</span> component) or to another <span style="FONT-STYLE: italic">view </span>component. This <code>ActionServlet</code> knows how to associate <span style="FONT-STYLE: italic">view</span> components with specific <span style="FONT-STYLE: italic"><code>Action</code></span> objects through one or more XML files loaded during the servlet initialization process - init() method. Thus changes to this XML file typically represent a reload of this <code>ActionServlet</code>. In this approach, developers are left to insert code in the <code>Action</code> objects of their choice in order to perform changes in the component. When objects need to be placed in the<span style="FONT-STYLE: italic"><span style="FONT-STYLE: italic"><span style="FONT-STYLE: italic"><span style="FONT-STYLE: italic"> </span></span></span></span>presentation layer, the <span style="FONT-STYLE: italic">controller</span> also uses this <code>Action</code> objects to place this <span style="FONT-STYLE: italic">model</span> in proper scope (page, request, session, etc).</span><br /><br /><span style="font-family:arial;">Struts also provides different tag libraries to help in the rendering of the <span style="FONT-STYLE: italic">model</span> components in the presentation layer (<span style="FONT-STYLE: italic">view)</span>, however, it is left to the developers to decide how to display the data by virtue of the MVC pattern. This means that JSP, velocity or any other rendering engine can be used as part of the presentation layer. As for the <span style="FONT-STYLE: italic">model</span> this can be any representation of the domain model of the application such as an entity bean EJB, a Java Bean using Hibernate (Session in View) or Data transfer objects to partially represent a domain model object. Other components can also be plugged to <span style="FONT-STYLE: italic">controller</span> component such as resource bundle configuration, menu capabilities, tiles, etc. This pluggable architecture mixed with other configurable features (e.g. validation) has made Struts a preferable option when choosing to use the MVC pattern as part of the architecture of a Java Enterprise Application.</span><br /><br /></div><span style="font-family:arial;">Loose coupling between components is the key concept. Different frameworks are available in the open source community, among which some offer an MVC architecture for Java Enterprise applications, however keep in mind that, as quoted in </span><span style="font-family:arial;">Martin Fowler's <span style="FONT-STYLE: italic">"Patterns of Enterprise Application Architecture":</span></span><br /><span style="font-family:arial;"><span style="FONT-STYLE: italic"></span></span><br /><span style="font-family:arial;"><blockquote></blockquote><blockquote><em>"The value of MVC lies in its two separation. Of these the separation of<br />presentation and model is one of the most important design principles in<br />software, and the only time you shouldn't follow it is in very simple<br />systems..."</em> <span style="font-size:78%;">(page 332)</span> </blockquote></span><br /></span><div style="TEXT-ALIGN: justify"><span style="font-family:arial;">So, keep these in mind when using Struts. Additional features offered by the framework should not be confused with the objective for which Struts was designed. Overuse and/or additional design without careful planning can prove to reduce scalability thus reducing the value of the product in the long run.</span><br /></div><span style="font-family:arial;"><span style="FONT-STYLE: italic"><br /></span></span>