---
layout: post
title: Learning about AOP
date: '2007-10-07T22:40:00.000-04:00'
author: Alberto
tags:
- AOP
- Pointcut
- Advise
- Spring
- AspectJ
modified_time: '2007-11-27T21:10:51.218-05:00'
blogger_id: tag:blogger.com,1999:blog-4831432806087932521.post-2737654975946120600
blogger_orig_url: https://alberto-flores.blogspot.com/2007/10/learning-about-aop.html
---

<div><div style="text-align: justify;"><strong><span style="font-family:arial;"><span style="font-weight: normal;">I was told that once I start writing code in AspectJ and learn in depth Aspect Oriented Programming (AOP), it will be difficult to look at Java source code again in the same way as before. And now, the more I get into it, the more I realize how important it is to have this knowledge as part of your skill set. Until now,  </span></span></strong><strong><span style="font-family:arial;"><span style="font-weight: normal;">I had heard a lot about AOP and, just as anyone else who has used the Spring Framework, I thought I knew all I would ever need from AOP. Then, I was presented with a challenge where Spring support was not enough so I was faced with the opportunity to learn AspectJ's language constructs to address my client's concerns. I was very impressed with the things I was able to accomplish with this extension to the language and in general I highly recommend everyone to take the time to learn it and use it often.<br /><br /></span></span></strong><div style="text-align: justify;"><strong><span style="font-family:arial;"><span style="font-weight: normal;">One of biggest goals and hopes of every Software Architect is to design and lead a software development effort that can scale well. This means that maintenance should be more than technically feasible, but rather simple enough within budget. Experience proves that despite every effort of preparing for every change, it is difficult to address every potential concern that will rise in the future. Specifically, when these concerns appears spread out  through the code base. This separation of concerns is what is referred to as "<span style="font-style: italic;">cross cutting concerns</span>". AOP provides an API that allows you to write code to address these "concerns" in a desirable manner.</span></span></strong><br /><strong></strong></div></div><br /><span style="font-weight: bold;font-family:arial;" >Aspect Oriented Programming (AOP)</span><br /><div style="text-align: justify;"><span style="font-family:arial;">Cross cutting concerns are address by way of, what is referred to as, "<span style="font-style: italic;">Aspects</span>".  Just as much as an Object models an Entity, an Aspect models a "Cross Cutting Concern". Getting familiar with these concepts takes some time, however as you take the time to write your own Aspects, it will become very easy to follow.</span><br /></div><span style="font-family:arial;"><br /></span><div style="text-align: justify;"><span style="font-family:arial;">Every Aspect contains an entry point, a <span style="font-weight: bold; font-style: italic;">Pointcut</span>. This basically describes how is the crossing concern identified.  For example, the concern may be "<span style="font-style: italic;">all Constructors calls (from a specified package) must passed through an Authentication process prior to instantiation</span>". So, the <span style="font-style: italic;">Pointcut </span>will be all "<span style="font-style: italic;">calls to the Constructor within the package in question</span>". This <span style="font-style: italic;">Pointcut</span> description,  interestingly enough,  is one of the reasons where Spring AOP couldn't help me (Spring can not manage objects that are created somewhere else - e.g. Hibernate's Proxy objects). These <span style="font-style: italic;">Pointcuts </span>delegate processing to a handler called <span style="font-weight: bold; font-style: italic;">Advise</span> which is where most of the logic occurs. An <span style="font-style: italic;">Advise</span> reflects the concern that is trying to be addressed. Continuing with our previous example, <span style="font-style: italic;"></span>the <span style="font-style: italic;">Advise</span> will be "<span style="font-style: italic;">before calling the constructor call check authenticating roles</span> else throw an exception".  Additionally,  an <span style="font-style: italic;">Aspect</span> may have multiple Pointcuts and each <span style="font-style: italic;">Pointcut</span> will have a minimum of one <span style="font-style: italic;">Advise.</span></span><br /></div><strong><span style="font-family:arial;"><br />AspectJ<br /></span></strong><div style="text-align: justify;"><strong><span style="font-family:arial;"><span style="font-weight: normal;">In the Java Programming language, AspectJ provides the ability to use these concepts in terms of objects. In general, AspectJ is an extension to the language. Originally developed by Xerox-PARC, it is now maintained by the Eclipse Foundation. The following code in AspectJ reflects the sample we have discussed thus far (for an object class name Foo):<br /><br /><span style="font-size:85%;"><span style="font-family:courier new;"></span><span style="font-family:courier new;"></span><blockquote><span style="font-family:courier new;font-size:100%;"><span style="font-weight: bold; color: rgb(153, 0, 0);">public</span> <span style="font-weight: bold; color: rgb(153, 0, 0);">aspect </span>AuthenticatedConstructorAspect</span><span style="font-size:100%;"> </span><span style="font-family:courier new;font-size:100%;">{</span><span style="font-family:courier new;font-size:100%;"> <blockquote><span style="font-weight: bold; color: rgb(153, 0, 0);">pointcut</span> constructorCheck() : <span style="color: rgb(153, 0, 0); font-weight: bold;">call</span>(* *.Foo());<br /><br /><span style="font-weight: bold; color: rgb(153, 0, 0);">before()</span> : constructorCheck() {<br />     <span style="font-style: italic; color: rgb(0, 153, 0);">// Do some coding (e.g. throw an Exception, etc)</span><br />} <br /></blockquote></span><span style="font-family:courier new;font-size:100%;">}</span></blockquote></span></span></span></strong></div><strong></strong></div><div><span style="font-family:Arial;"><br /><span style="font-weight: bold;">Conclusion</span><br />In general, aspect oriented programming provides a great strength to your development efforts if used appropriately. It can become a strong part of your development efforts if used properly and can scale well since it can be plugged in as a requirement is enforced.<br /></span></div><br /><span style="font-weight: bold;font-family:arial;" >References</span> <ol style="font-family: arial;"><li><a href="http://www.ubookcase.com/book/Addison.Wesley/Eclipse.AspectJ/">http://www.ubookcase.com/book/Addison.Wesley/Eclipse.AspectJ/</a></li><li><a href="http://www.sable.mcgill.ca/%7Ehendren/AspectJ.html">http://www.sable.mcgill.ca/~hendren/AspectJ.html</a></li><li><a href="http://www.stepwise.com/Articles/AspectJ/index.html">http://www.stepwise.com/Articles/AspectJ/index.html</a></li><li> <a href="http://www.eclipse.org/aspectj/doc/released/progguide/language-joinPoints.html">http://www.eclipse.org/aspectj/doc/released/progguide/language-joinPoints.html</a></li><li> <a href="http://www.javaworld.com/javaworld/jw-04-2002/jw-0412-aspect3.html">http://www.javaworld.com/javaworld/jw-04-2002/jw-0412-aspect3.html</a></li></ol>